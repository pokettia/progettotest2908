<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SPARQL Queries</title>
  <style>
    pre {
      background: #f3e6ff;
      border-left: 4px solid #6a0dad;
      padding: 10px;
      overflow-x: auto;
      border-radius: 8px;
      font-size: 14px;
    }
    h2 {
      color: #4b0082;
      margin-top: 30px;
    }
    .img-container {
      text-align: center;
      margin: 20px 0;
    }
    .img-container img {
      max-width: 80%;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    table {
      border-collapse: collapse;
      margin: 20px auto;
      width: 80%;
      background: #fff;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: left;
    }
    th {
      background: #6a0dad;
      color: white;
    }
    nav ul {
      list-style-type: none;
      padding: 0;
      background: #6a0dad;
      margin: 0;
      display: flex;
    }
    nav ul li {
      position: relative;
    }
    nav ul li a {
      display: block;
      padding: 10px 15px;
      color: white;
      text-decoration: none;
    }
    nav ul li ul {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background: #7b1fa2;
      list-style-type: none;
      padding: 0;
      margin: 0;
    }
    nav ul li:hover > ul {
      display: block;
    }
    nav ul li ul li a {
      padding: 10px;
    }
  </style>
</head>
<body>

  <nav>
    <ul>
      <li><a href="index.html">üè† Home</a></li>
      <li><a href="methodology.html">Methodology</a></li>
      <li><a href="sparql.html">SPARQL Queries</a></li>
      <li>
        <a href="#">Monuments ‚ñº</a>
        <ul>
          <li><a href="monuments/porta_porta_maggiore.html">Porta Maggiore</a></li>
          <li><a href="monuments/porta_porta_santo_stefano.html">Porta Santo Stefano</a></li>
          <li><a href="monuments/porta_porta_castiglione.html">Porta Castiglione</a></li>
          <li><a href="monuments/porta_porta_san_mamolo.html">Porta San Mamolo</a></li>
          <li><a href="monuments/porta_porta_delle_lame.html">Porta Delle Lame</a></li>
          <li><a href="monuments/porta_porta_san_donato.html">Porta San Donato</a></li>
          <li><a href="monuments/porta_porta_san_vitale.html">Porta San Vitale</a></li>
        </ul>
      </li>
      <li><a href="challenges.html">Faced Challenges</a></li>
      <li><a href="conclusions.html">Conclusions</a></li>
    </ul>
  </nav>

  <main>
    <h1>Queries Used</h1>
    <p>The queries used have been fundamental for querying the available data and obtaining specific information about the monuments analyzed. Here are three main examples, along with explanations of their purpose and how they work.</p>

    <h2>SELECT DISTINCT Query</h2>
    <p>
      This query is used to extract a unique set of results (without duplicates) from an RDF dataset. In our case, it is used to search for monuments of type <code>ArchitecturalOrLandscapeHeritage</code> that have certain labels, denominations, or titles, filtering only those that contain the name of a specific gate and the city of Bologna.
    </p>
    <p><strong>Example taken from Porta Maggiore:</strong></p>
    <pre>
PREFIX rdf:  &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX arco: &lt;https://w3id.org/arco/ontology/arco/&gt;
PREFIX arco-core: &lt;https://w3id.org/arco/ontology/core/&gt;
PREFIX cis:  &lt;http://dati.beniculturali.it/cis/&gt;

SELECT DISTINCT ?porta ?label
WHERE {
  ?porta rdf:type arco:ArchitecturalOrLandscapeHeritage .
  { ?porta rdfs:label ?label }
  UNION { ?porta cis:name ?label }
  UNION { ?porta arco-core:hasTitle ?title .
           ?title rdfs:label ?label }
  UNION { ?porta arco-core:hasDenomination ?den .
           ?den rdfs:label ?label }
  FILTER (REGEX(STR(?label), "Porta Maggiore", "i"))
  FILTER (REGEX(STR(?label), "Bologna", "i"))
}
LIMIT 100
    </pre>

    <h2>DESCRIBE Query</h2>
    <p>
      The <code>DESCRIBE</code> query is used to retrieve all RDF information related to a specific resource. In this case, starting from a unique identifier, it returns all properties and values related to the monument in question, enabling a detailed description of the entity.
    </p>
    <p><strong>Example taken from Porta San Donato:</strong></p>
    <pre>
PREFIX arco: &lt;https://w3id.org/arco/ontology/arco/&gt;

DESCRIBE ?s
WHERE {
  ?s arco:uniqueIdentifier "0800241601" .
}
ORDER BY ?s
LIMIT 200
    </pre>

    <h2>CONSTRUCT Query</h2>
    <p>
      The <code>CONSTRUCT</code> query is used to build new RDF graphs from existing data. It is useful for reorganizing, enriching, or presenting information in a format different from the original. In the example, it constructs a graph that describes historical elements, materials, events, and architectural features related to the gate.
    </p>
    <p><strong>Example taken from Porta Delle Lame:</strong></p>
    <pre>
PREFIX arco-cons: &lt;https://w3id.org/arco/ontology/construction-description&gt;
PREFIX arco-den: &lt;https://w3id.org/arco/ontology/denotative-description&gt;
PREFIX arco-event: &lt;https://w3id.org/arco/ontology/cultural-event&gt;
PREFIX arco-core: &lt;https://w3id.org/arco/ontology/core&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX dc: &lt;http://purl.org/dc/elements/1.1&gt;

CONSTRUCT {
  arco-cons:hasPreviousStructureOrElement "cassero medievale"@it ;
  arco-cons:hasArchitecturalOrder "baroque"@en ;
  arco-den:hasMaterial "brick"@en ;
  arco-event:hasRelatedEvent "battle of Porta Lame during WWII"@en ;
  arco-core:describes "the latin name Lame refers to swamps"@en ;
  arco-core:isPartOf "Bologna's city gates"@en ;
  arco-den:AffixedElement "two lions"@en .
}
WHERE {
  FILTER (true)
}
    </pre>
  </main>

</body>
</html>
